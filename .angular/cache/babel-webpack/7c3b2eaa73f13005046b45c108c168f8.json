{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\steph\\\\Documents\\\\GitHub\\\\weather-app\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let WeatherDataService = /*#__PURE__*/(() => {\n  class WeatherDataService {\n    constructor(http) {\n      var _this = this;\n\n      this.http = http;\n      this.zipCodes = localStorage.getItem(\"zipCodes\") ? localStorage.getItem(\"zipCodes\") : '';\n      this.weatherData = [];\n      this.loadWeatherData = /*#__PURE__*/_asyncToGenerator(function* () {\n        if (_this.zipCodes === '') {\n          return;\n        }\n\n        let data = _this.zipCodes.split(',');\n\n        for (let i = 0; i < data.length; i++) {\n          _this.http.get(`https://api.openweathermap.org/data/2.5/weather?zip=${data[i]}&units=imperial&appid=5a4b2d457ecbef9eb2a71e480b947604`, {\n            responseType: \"json\"\n          }).subscribe(result => {\n            _this.weatherData.push(Object.assign(Object.assign({}, result), {\n              zipcode: data[i]\n            }));\n          });\n        }\n      });\n      this.loadWeatherData();\n    }\n\n    addLoc(locZipCode) {\n      this.zipCodes = this.zipCodes === '' ? '' + locZipCode : this.zipCodes + ',' + locZipCode;\n      localStorage.setItem(\"zipCodes\", this.zipCodes);\n      this.addWeatherToList(locZipCode);\n    }\n\n    addWeatherToList(zipCode) {\n      this.http.get(`https://api.openweathermap.org/data/2.5/weather?zip=${zipCode}&units=imperial&appid=5a4b2d457ecbef9eb2a71e480b947604`, {\n        responseType: \"json\"\n      }).subscribe(result => {\n        this.weatherData.push(Object.assign(Object.assign({}, result), {\n          zipcode: zipCode\n        }));\n      });\n    }\n\n  }\n\n  WeatherDataService.ɵfac = function WeatherDataService_Factory(t) {\n    return new (t || WeatherDataService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  WeatherDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: WeatherDataService,\n    factory: WeatherDataService.ɵfac,\n    providedIn: 'root'\n  });\n  return WeatherDataService;\n})();","map":null,"metadata":{},"sourceType":"module"}